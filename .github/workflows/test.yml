name: TEST CI

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  test_ci:
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v2

      - name: Add reviewers
        uses: actions/github-script@v6
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            // get all the teams in the organization
            const repos = await github.rest.repos
            // list all methods available for the repos object
            let property_names = Object.getOwnPropertyNames(repos)
            for (let i = 0; i < property_names.length; i++) {
              // console.log(property_names[i])
            }
            
            let teams = await github.rest.repos.listTeams({
              owner: context.repo.owner,
              repo: context.repo.repo
            })

            console.log(teams)